
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>testView</title>
</head>
<body>


    <div>
        <form id="uploadForm">
            AJAX上传多文件： <input type="file" name="file" multiple />
            <input type="button" value="上传" onclick="doUpload()" />
        </form>
    </div>
    <form method="post" enctype="multipart/form-data" asp-controller="Home" asp-action="UploadFiles">
        <div class="form-group">
            <div class="col-md-12">
                <p>选择要上传的文件</p>
                <input type="file" name="files" multiple />
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-12">
                <input type="submit" value="上传" />
            </div>
        </div>
    </form>
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script>
      function doUpload() {
  var formData = new FormData($("#uploadForm")[0]);
  $.ajax({
   url: '@Url.Action("UploadFiles")',
   type: 'POST',
   data: formData,
   async: false,
   cache: false,
   contentType: false,
   processData: false,
   success: function (returndata) {
    alert(returndata);
   },
   error: function (returndata) {
    alert(returndata);
   }
  });
  }
    </script>
</body>
</html>
